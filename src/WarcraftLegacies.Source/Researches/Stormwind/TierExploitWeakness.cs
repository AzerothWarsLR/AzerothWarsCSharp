using MacroTools.FactionSystem;
using WarcraftLegacies.Source.Setup.FactionSetup;
using WCSharp.Events;
using static War3Api.Common;

namespace WarcraftLegacies.Source.Researches.Stormwind
{
  public static class TierExploitWeakness
  {
    private static void Research()
    {
      StormwindSetup.Stormwind.ModObjectLimit(FourCC("h04C"), Faction.UNLIMITED); //Bladessman
      StormwindSetup.Stormwind.ModObjectLimit(FourCC("h02O"), -Faction.UNLIMITED); //Militiaman
      StormwindSetup.Stormwind.ModObjectLimit(FourCC("R030"), Faction.UNLIMITED); //Code of Chivalry
      StormwindSetup.Stormwind.ModObjectLimit(FourCC("R031"), Faction.UNLIMITED); //Elven Refugees
    }

    public static void Setup()
    {
      PlayerUnitEvents.Register(PlayerUnitEvent.ResearchIsFinished, Research, FourCC("R03B"));
    }
  }
}